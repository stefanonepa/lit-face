<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + Lit + TS</title>
    <script type="module" src="/src/my-element.ts"></script>
    <script type="module" src="/src/components/input.lit.ts"></script>
    <script type="module" src="/src/components/checkbox.lit.ts"></script>
    <style>
      body{
        padding:10px
      }
      form {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        width: 100%;
        max-width: 300px;
        border: 2px dashed gainsboro;
        padding:10px
      }
      #actions {
        display: flex;
        justify-content: flex-end;
        gap: 0.5rem;
      }

      /* my-input:--pristine{
        color:white;
        background-color:  cornflowerblue;
        padding:2px;
      }

      my-input:--dirty{
        color:white;
        background-color: saddlebrown;
        padding:2px;
      }

      my-input:--touched{
        color:white;
        background-color:  palevioletred;
        padding:2px;
      }
      my-input:--untouched {
        color:white;
        background-color: palevioletred;
        padding:2px;
      }

      my-input:--valid {
        color:white;
        background-color:  greenyellow;
        padding:2px;
      }

      my-input:--invalid {
        color:white;
        background-color: orangered;
        padding:2px;
      }

      my-input:--error {
        color:white;
        background-color:  purple;
        padding:2px;
      } */

      /* my-input:--invalid:--touched:not(:focus), */
      /* my-input:--invalid:--touched  {
        background-color: red;
      } */

      /* my-input:--valid:--touched:not(:focus), */
      /* my-input:--valid:--touched  {
        background-color: green;
      } */
    </style>
  </head>
  <body>

  <form>
    <div>
      <label for="inputTest">inputTest</label>
      <my-input name="myInputField" value="" placeholder="type something" id="inputTest" required pattern="\d{4,4}"></my-input>
      <label for="inputTesting">inputTesting</label>
      <my-input name="myInput" value="" id="inputTesting" required pattern="\d{4,4}"></my-input>
      <label for="checkboxSingle">checkboxSingle</label>
      <my-checkbox name="checkboxSingle" id="checkboxSingle" required ></my-checkbox>
    </div>
    <div>
      <label for="checkboxGroup[0]">checkboxGroup[0]</label>
      <my-checkbox name="checkboxGroup" value="cake" id="checkboxGroup[0]" required></my-checkbox>
      <label for="checkboxGroup[1]">checkboxGroup[1]</label>
      <my-checkbox name="checkboxGroup" value="icecream" id="checkboxGroup[1]" required></my-checkbox>
    </div>
    <hr>
    <div id="actions">
      <button type="submit">Submit</button>
      <button type="reset">Reset</button>
    </div>
  </form>

  <pre><output></output></pre>


  <script>
    /** Get a reference to the form */
    const form = document.querySelector('form');
    /** Get the output element to display form data in */
    const output = document.querySelector('output');

    form.addEventListener('submit', event => {
      event.preventDefault();

      const form = event.target;

      /** Get all of the form data */
      const formData = new FormData(form);
      const data = {};

      formData.forEach((value, key) => {
        if (data[key] !== undefined) {
          // If the key already exists in data, convert its value to an array
          if (!Array.isArray(data[key])) {
            data[key] = [data[key]];
          }
          data[key].push(value);
        } else {
          // If the key doesn't exist in data, assign the value directly
          data[key] = value;
        }
      });

      output.innerHTML = JSON.stringify(data, null, 2);
    });
  </script>


<pre>
  
  Input fields have the following states:
  - Untouched: The form control has not been interacted with yet. This is the initial state when the form loads.
  - Touched: The form control has been blurred or focused at least once. It indicates that the user has interacted with the control.
  - Pristine: The form control has not been modified by the user. It is in its initial state without any changes.
  - Dirty: The form control has been modified by the user. It indicates that the user has changed the value of the control.
  - Invalid: The data entered by the user doesn't meet the validation criteria. It's often associated with validation rules set for the form control.
  - Valid: The data entered by the user meets the validation criteria. The control is considered valid according to the defined rules.
  </pre>
  </body>
</html>
